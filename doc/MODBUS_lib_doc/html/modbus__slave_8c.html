<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MODBUS: D:/EMBEDDED/LIBRARIES/C_libraries/MODBUS/src/modbus_slave.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MODBUS<span id="projectnumber">&#160;v0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">modbus_slave.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of Modbus slave functions for handling communication and data management.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="modbus__slave_8h_source.html">modbus_slave.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="modbus__slave___p_d_u_8h_source.html">modbus_slave_PDU.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="modbus__slave___r_t_u_8h_source.html">modbus_slave_RTU.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="modbus___r_t_u_8h_source.html">modbus_RTU.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="modbus__type_8h_source.html">modbus_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="modbus__driver__interface_8h_source.html">modbus_driver_interface.h</a>&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for modbus_slave.c:</div>
<div class="dyncontent">
<div class="center"><img src="modbus__slave_8c__incl.png" border="0" usemap="#a_d_1_2_e_m_b_e_d_d_e_d_2_l_i_b_r_a_r_i_e_s_2_c__libraries_2_m_o_d_b_u_s_2src_2modbus__slave_8c" alt=""/></div>
<map name="a_d_1_2_e_m_b_e_d_d_e_d_2_l_i_b_r_a_r_i_e_s_2_c__libraries_2_m_o_d_b_u_s_2src_2modbus__slave_8c" id="a_d_1_2_e_m_b_e_d_d_e_d_2_l_i_b_r_a_r_i_e_s_2_c__libraries_2_m_o_d_b_u_s_2src_2modbus__slave_8c">
<area shape="rect" title="Implementation of Modbus slave functions for handling communication and data management." alt="" coords="321,5,505,64"/>
<area shape="rect" href="modbus__slave_8h.html" title="Declarations of Modbus slave functions for handling communication and data management." alt="" coords="626,261,741,288"/>
<area shape="poly" title=" " alt="" coords="497,62,542,83,588,110,632,144,668,185,682,215,686,246,681,246,676,217,664,188,628,148,585,115,539,88,495,67"/>
<area shape="rect" href="modbus__slave___p_d_u_8h.html" title="Header file for Modbus Slave Protocol Data Unit (PDU) handling." alt="" coords="5,112,154,139"/>
<area shape="poly" title=" " alt="" coords="322,63,142,110,141,105,320,58"/>
<area shape="rect" href="modbus__type_8h.html" title="Header file defining types and constants for Modbus protocol implementation." alt="" coords="256,261,367,288"/>
<area shape="poly" title=" " alt="" coords="399,65,369,121,339,188,321,247,316,245,334,186,365,119,394,63"/>
<area shape="rect" href="modbus__slave___r_t_u_8h.html" title="Header file for Modbus RTU slave functionality." alt="" coords="178,112,325,139"/>
<area shape="poly" title=" " alt="" coords="362,67,289,107,286,102,359,62"/>
<area shape="rect" href="modbus___r_t_u_8h.html" title="Header file for Modbus RTU communication protocol implementation." alt="" coords="348,187,459,213"/>
<area shape="poly" title=" " alt="" coords="414,64,408,171,402,171,409,64"/>
<area shape="rect" href="modbus__driver__interface_8h.html" title="Defines the interface for a Modbus RTU driver." alt="" coords="483,187,655,213"/>
<area shape="poly" title=" " alt="" coords="442,62,549,174,545,177,438,66"/>
<area shape="rect" title=" " alt="" coords="729,112,796,139"/>
<area shape="poly" title=" " alt="" coords="506,57,714,109,713,114,504,62"/>
<area shape="rect" href="modbus__public__type_8h.html" title="Defines public types and enums used in Modbus communication." alt="" coords="348,336,499,363"/>
<area shape="poly" title=" " alt="" coords="639,291,484,334,483,329,637,286"/>
<area shape="rect" title=" " alt="" coords="507,411,572,437"/>
<area shape="poly" title=" " alt="" coords="445,361,508,400,505,404,442,365"/>
<area shape="rect" title=" " alt="" coords="386,411,461,437"/>
<area shape="poly" title=" " alt="" coords="426,363,426,395,421,395,421,363"/>
<area shape="rect" href="modbus__slave__data_8h_source.html" title=" " alt="" coords="77,187,223,213"/>
<area shape="poly" title=" " alt="" coords="94,137,129,174,126,177,90,141"/>
<area shape="poly" title=" " alt="" coords="179,211,271,252,268,257,177,216"/>
<area shape="rect" href="modbus__config_8h.html" title="Defines configuration constants for a Modbus master application." alt="" coords="192,336,311,363"/>
<area shape="poly" title=" " alt="" coords="161,212,236,322,232,325,157,215"/>
<area shape="poly" title=" " alt="" coords="332,286,393,325,390,330,330,291"/>
<area shape="poly" title=" " alt="" coords="303,290,273,326,269,322,299,287"/>
<area shape="poly" title=" " alt="" coords="259,138,303,246,298,248,254,140"/>
<area shape="poly" title=" " alt="" coords="408,213,422,320,417,321,403,214"/>
<area shape="poly" title=" " alt="" coords="389,216,341,254,337,250,386,212"/>
<area shape="poly" title=" " alt="" coords="570,214,546,396,540,395,565,214"/>
<area shape="poly" title=" " alt="" coords="525,216,372,259,370,254,523,211"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5e151c615eda34903514212f05a5ccf8" id="r_a5e151c615eda34903514212f05a5ccf8"><td class="memItemLeft" align="right" valign="top"><a id="a5e151c615eda34903514212f05a5ccf8" name="a5e151c615eda34903514212f05a5ccf8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRIVATE</b>&#160;&#160;&#160;static</td></tr>
<tr class="separator:a5e151c615eda34903514212f05a5ccf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a65b2a24dbd683ef0cda4f46c92819d6c" id="r_a65b2a24dbd683ef0cda4f46c92819d6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65b2a24dbd683ef0cda4f46c92819d6c">register_app_data_to_modbus_slave_coils_table</a> (<a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a> coil_adr, <a class="el" href="modbus__public__type_8h.html#ab404c5fe76f4296cf424a0c47267d014">modbus_coil_disin_t</a> *app_data_ptr)</td></tr>
<tr class="memdesc:a65b2a24dbd683ef0cda4f46c92819d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers application data to Modbus slave coils table.  <br /></td></tr>
<tr class="separator:a65b2a24dbd683ef0cda4f46c92819d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9711c3bed5b7cd080bfe6835597c7f1b" id="r_a9711c3bed5b7cd080bfe6835597c7f1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9711c3bed5b7cd080bfe6835597c7f1b">register_app_data_to_modbus_slave_din_table</a> (<a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a> disin_adr, <a class="el" href="modbus__public__type_8h.html#ab404c5fe76f4296cf424a0c47267d014">modbus_coil_disin_t</a> *app_data_ptr)</td></tr>
<tr class="memdesc:a9711c3bed5b7cd080bfe6835597c7f1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers application data to Modbus slave discrete inputs table.  <br /></td></tr>
<tr class="separator:a9711c3bed5b7cd080bfe6835597c7f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2b5e4c2f67002beb94e18c7dd6b201" id="r_acd2b5e4c2f67002beb94e18c7dd6b201"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd2b5e4c2f67002beb94e18c7dd6b201">register_app_data_to_modbus_slave_inreg_table</a> (<a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a> reg_adr, <a class="el" href="modbus__public__type_8h.html#ab53e22460a149df7a2fadfa44ac525b3">modbus_reg_t</a> *app_data_ptr)</td></tr>
<tr class="memdesc:acd2b5e4c2f67002beb94e18c7dd6b201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers application data to Modbus slave input registers table.  <br /></td></tr>
<tr class="separator:acd2b5e4c2f67002beb94e18c7dd6b201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3016b21d5d1c3e574bdd4ed00ebf7f" id="r_a1a3016b21d5d1c3e574bdd4ed00ebf7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a3016b21d5d1c3e574bdd4ed00ebf7f">register_app_data_to_modbus_slave_hreg_table</a> (<a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a> reg_adr, <a class="el" href="modbus__public__type_8h.html#ab53e22460a149df7a2fadfa44ac525b3">modbus_reg_t</a> *app_data_ptr)</td></tr>
<tr class="memdesc:a1a3016b21d5d1c3e574bdd4ed00ebf7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers application data to Modbus slave holding registers table.  <br /></td></tr>
<tr class="separator:a1a3016b21d5d1c3e574bdd4ed00ebf7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05aa0222f91a6b4480809c71cd68927" id="r_aa05aa0222f91a6b4480809c71cd68927"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa05aa0222f91a6b4480809c71cd68927">modbus_slave_init</a> (<a class="el" href="modbus__public__type_8h.html#acb4a1f501ad5d66f9fd75b0e33b7de92">modbus_mode_t</a> mode, <a class="el" href="modbus__public__type_8h.html#ad191fc361cc09f8aa88c4e5c8c5b2fb6">baud_t</a> baud_rate, <a class="el" href="modbus__public__type_8h.html#a8c9f47bdc80c9f4db63b7bf8b1ad5290">parity_t</a> parity, <a class="el" href="modbus__public__type_8h.html#a0337c9ebe7abd02e220ad7ca6e4ac29d">modbus_device_ID_t</a> slave_ID)</td></tr>
<tr class="memdesc:aa05aa0222f91a6b4480809c71cd68927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Modbus slave.  <br /></td></tr>
<tr class="separator:aa05aa0222f91a6b4480809c71cd68927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab765247046761aeeb8cc0f479229148d" id="r_ab765247046761aeeb8cc0f479229148d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab765247046761aeeb8cc0f479229148d">check_modbus_request</a> (void)</td></tr>
<tr class="memdesc:ab765247046761aeeb8cc0f479229148d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for incoming Modbus requests and processes them.  <br /></td></tr>
<tr class="separator:ab765247046761aeeb8cc0f479229148d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a94d06f7ec25c02a283e929037f4606f1" id="r_a94d06f7ec25c02a283e929037f4606f1"><td class="memItemLeft" align="right" valign="top"><a id="a94d06f7ec25c02a283e929037f4606f1" name="a94d06f7ec25c02a283e929037f4606f1"></a>
PRIVATE <a class="el" href="modbus__public__type_8h.html#a0337c9ebe7abd02e220ad7ca6e4ac29d">modbus_device_ID_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>modbus_slave_ID</b></td></tr>
<tr class="separator:a94d06f7ec25c02a283e929037f4606f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f482ea2f707b0d9ad915a6f2bed531" id="r_a89f482ea2f707b0d9ad915a6f2bed531"><td class="memItemLeft" align="right" valign="top"><a id="a89f482ea2f707b0d9ad915a6f2bed531" name="a89f482ea2f707b0d9ad915a6f2bed531"></a>
PRIVATE <a class="el" href="modbus__type_8h.html#a1761b59e321502c955c111adfcf25f93">modbus_slave_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>slave_manager_state_machine</b> = <a class="el" href="modbus__type_8h.html#a1761b59e321502c955c111adfcf25f93a97ceb409e5de9923f2317fa42097a677">MODBUS_SLAVE_UNKNOWN</a></td></tr>
<tr class="separator:a89f482ea2f707b0d9ad915a6f2bed531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76e5b443bb5817a8a0531b4be32702a" id="r_af76e5b443bb5817a8a0531b4be32702a"><td class="memItemLeft" align="right" valign="top"><a id="af76e5b443bb5817a8a0531b4be32702a" name="af76e5b443bb5817a8a0531b4be32702a"></a>
PRIVATE const <a class="el" href="structmodbus___r_t_u__driver__struct__t.html">modbus_RTU_driver_struct_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>slave_RTU_driver</b> = NULL</td></tr>
<tr class="separator:af76e5b443bb5817a8a0531b4be32702a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b46ea75237ebe93e5ee0ea54053dd0" id="r_af9b46ea75237ebe93e5ee0ea54053dd0"><td class="memItemLeft" align="right" valign="top"><a id="af9b46ea75237ebe93e5ee0ea54053dd0" name="af9b46ea75237ebe93e5ee0ea54053dd0"></a>
PRIVATE <a class="el" href="structmodbus__msg__t.html">modbus_msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>slave_msg</b></td></tr>
<tr class="separator:af9b46ea75237ebe93e5ee0ea54053dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99308d52a0ac745702eed39923f4d951" id="r_a99308d52a0ac745702eed39923f4d951"><td class="memItemLeft" align="right" valign="top"><a id="a99308d52a0ac745702eed39923f4d951" name="a99308d52a0ac745702eed39923f4d951"></a>
PRIVATE <a class="el" href="structmodbus__msg__t.html">modbus_msg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>slave_msg_ptr</b> = NULL</td></tr>
<tr class="separator:a99308d52a0ac745702eed39923f4d951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af956f751c171a4ee9a801f3073706d46" id="r_af956f751c171a4ee9a801f3073706d46"><td class="memItemLeft" align="right" valign="top"><a id="af956f751c171a4ee9a801f3073706d46" name="af956f751c171a4ee9a801f3073706d46"></a>
PRIVATE <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0">modbus_status_flag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TIMER_1_5_CHAR_FLAG</b> = <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0afe827dfe535846d9ad4e3ab362785fbd">MODBUS_FLAG_UNKNOWN</a></td></tr>
<tr class="separator:af956f751c171a4ee9a801f3073706d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5886321f307967575cd8159b475782" id="r_a7c5886321f307967575cd8159b475782"><td class="memItemLeft" align="right" valign="top"><a id="a7c5886321f307967575cd8159b475782" name="a7c5886321f307967575cd8159b475782"></a>
PRIVATE <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0">modbus_status_flag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TIMER_3_5_CHAR_FLAG</b> = <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0afe827dfe535846d9ad4e3ab362785fbd">MODBUS_FLAG_UNKNOWN</a></td></tr>
<tr class="separator:a7c5886321f307967575cd8159b475782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efbed307d444d1a9f71b7553cc60340" id="r_a8efbed307d444d1a9f71b7553cc60340"><td class="memItemLeft" align="right" valign="top"><a id="a8efbed307d444d1a9f71b7553cc60340" name="a8efbed307d444d1a9f71b7553cc60340"></a>
PRIVATE <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0">modbus_status_flag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>FRAME_ERROR_FLAG</b> = <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0afe827dfe535846d9ad4e3ab362785fbd">MODBUS_FLAG_UNKNOWN</a></td></tr>
<tr class="separator:a8efbed307d444d1a9f71b7553cc60340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2b78c0acb01320de1bc61e64aee83e" id="r_a0b2b78c0acb01320de1bc61e64aee83e"><td class="memItemLeft" align="right" valign="top"><a id="a0b2b78c0acb01320de1bc61e64aee83e" name="a0b2b78c0acb01320de1bc61e64aee83e"></a>
PRIVATE <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0">modbus_status_flag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>RESP_TRANSMITION_FLAG</b> = <a class="el" href="modbus__type_8h.html#ada82c5b5cf2652ea46dd5de572f64ae0afe827dfe535846d9ad4e3ab362785fbd">MODBUS_FLAG_UNKNOWN</a></td></tr>
<tr class="separator:a0b2b78c0acb01320de1bc61e64aee83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of Modbus slave functions for handling communication and data management. </p>
<dl class="section date"><dt>Date</dt><dd>2024-05-31</dd></dl>
<p>This file contains the implementation of Modbus slave functions that manage communication with a Modbus master. It includes functionalities for reading and writing coils, discrete inputs, holding registers, and input registers. Additionally, it implements a state machine and callbacks for handling Modbus RTU communication.</p>
<p>This implementation assumes the use of a Modbus RTU driver for serial communication. It provides functions to initialize the Modbus slave, register application data to Modbus tables, check Modbus requests, and manage various states during the Modbus communication cycle.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="modbus__slave_8h.html" title="Declarations of Modbus slave functions for handling communication and data management.">modbus_slave.h</a> </dd>
<dd>
modbus_public.type.h </dd>
<dd>
<a class="el" href="modbus__config_8h.html" title="Defines configuration constants for a Modbus master application.">modbus_config.h</a> </dd>
<dd>
<a class="el" href="modbus__driver__interface_8h.html" title="Defines the interface for a Modbus RTU driver.">modbus_driver_interface.h</a></dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2024 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab765247046761aeeb8cc0f479229148d" name="ab765247046761aeeb8cc0f479229148d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab765247046761aeeb8cc0f479229148d">&#9670;&#160;</a></span>check_modbus_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_modbus_request </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for incoming Modbus requests and processes them. </p>
<p>This function checks the Modbus slave state machine and handles Modbus requests accordingly. It transitions between different states (idle, message received, transmitting response) based on the state of flags indicating timer expirations and frame errors during Modbus communication.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function needs to be called periodically to keep the Modbus slave application running and operational. </dd></dl>

</div>
</div>
<a id="aa05aa0222f91a6b4480809c71cd68927" name="aa05aa0222f91a6b4480809c71cd68927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05aa0222f91a6b4480809c71cd68927">&#9670;&#160;</a></span>modbus_slave_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void modbus_slave_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#acb4a1f501ad5d66f9fd75b0e33b7de92">modbus_mode_t</a></td>          <td class="paramname"><span class="paramname"><em>mode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#ad191fc361cc09f8aa88c4e5c8c5b2fb6">baud_t</a></td>          <td class="paramname"><span class="paramname"><em>baud_rate</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#a8c9f47bdc80c9f4db63b7bf8b1ad5290">parity_t</a></td>          <td class="paramname"><span class="paramname"><em>parity</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#a0337c9ebe7abd02e220ad7ca6e4ac29d">modbus_device_ID_t</a></td>          <td class="paramname"><span class="paramname"><em>slave_ID</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Modbus slave. </p>
<p>This function initializes the Modbus slave based on the specified mode, baud rate, parity, and slave ID. It sets up data buffers, initializes the Modbus driver for communication, and prepares internal data structures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Modbus mode (e.g., RTU). </td></tr>
    <tr><td class="paramname">baud_rate</td><td>Baud rate for serial communication. </td></tr>
    <tr><td class="paramname">parity</td><td>Parity for serial communication. </td></tr>
    <tr><td class="paramname">slave_ID</td><td>Modbus slave ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65b2a24dbd683ef0cda4f46c92819d6c" name="a65b2a24dbd683ef0cda4f46c92819d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b2a24dbd683ef0cda4f46c92819d6c">&#9670;&#160;</a></span>register_app_data_to_modbus_slave_coils_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_app_data_to_modbus_slave_coils_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a></td>          <td class="paramname"><span class="paramname"><em>coil_adr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#ab404c5fe76f4296cf424a0c47267d014">modbus_coil_disin_t</a> *</td>          <td class="paramname"><span class="paramname"><em>app_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers application data to Modbus slave coils table. </p>
<p>This function registers application data to the Modbus slave coils table at the specified coil address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">coil_adr</td><td>Coil address where the application data will be registered. </td></tr>
    <tr><td class="paramname">app_data_ptr</td><td>Pointer to the application data to be registered. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="modbus__slave_8c_a65b2a24dbd683ef0cda4f46c92819d6c_cgraph.png" border="0" usemap="#amodbus__slave_8c_a65b2a24dbd683ef0cda4f46c92819d6c_cgraph" alt=""/></div>
<map name="amodbus__slave_8c_a65b2a24dbd683ef0cda4f46c92819d6c_cgraph" id="amodbus__slave_8c_a65b2a24dbd683ef0cda4f46c92819d6c_cgraph">
<area shape="rect" title="Registers application data to Modbus slave coils table." alt="" coords="5,5,185,48"/>
<area shape="rect" href="modbus__slave__data_8c.html#a8f0c3b00519bcca73a80878f7f63a1e7" title="Registers application data to the Modbus coils or discrete inputs table." alt="" coords="233,5,400,48"/>
<area shape="poly" title=" " alt="" coords="185,24,217,24,217,29,185,29"/>
</map>
</div>

</div>
</div>
<a id="a9711c3bed5b7cd080bfe6835597c7f1b" name="a9711c3bed5b7cd080bfe6835597c7f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9711c3bed5b7cd080bfe6835597c7f1b">&#9670;&#160;</a></span>register_app_data_to_modbus_slave_din_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_app_data_to_modbus_slave_din_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a></td>          <td class="paramname"><span class="paramname"><em>disin_adr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#ab404c5fe76f4296cf424a0c47267d014">modbus_coil_disin_t</a> *</td>          <td class="paramname"><span class="paramname"><em>app_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers application data to Modbus slave discrete inputs table. </p>
<p>This function registers application data to the Modbus slave discrete inputs table at the specified address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disin_adr</td><td>Discrete input address where the application data will be registered. </td></tr>
    <tr><td class="paramname">app_data_ptr</td><td>Pointer to the application data to be registered. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="modbus__slave_8c_a9711c3bed5b7cd080bfe6835597c7f1b_cgraph.png" border="0" usemap="#amodbus__slave_8c_a9711c3bed5b7cd080bfe6835597c7f1b_cgraph" alt=""/></div>
<map name="amodbus__slave_8c_a9711c3bed5b7cd080bfe6835597c7f1b_cgraph" id="amodbus__slave_8c_a9711c3bed5b7cd080bfe6835597c7f1b_cgraph">
<area shape="rect" title="Registers application data to Modbus slave discrete inputs table." alt="" coords="5,5,175,48"/>
<area shape="rect" href="modbus__slave__data_8c.html#a8f0c3b00519bcca73a80878f7f63a1e7" title="Registers application data to the Modbus coils or discrete inputs table." alt="" coords="223,5,390,48"/>
<area shape="poly" title=" " alt="" coords="175,24,207,24,207,29,175,29"/>
</map>
</div>

</div>
</div>
<a id="a1a3016b21d5d1c3e574bdd4ed00ebf7f" name="a1a3016b21d5d1c3e574bdd4ed00ebf7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3016b21d5d1c3e574bdd4ed00ebf7f">&#9670;&#160;</a></span>register_app_data_to_modbus_slave_hreg_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_app_data_to_modbus_slave_hreg_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a></td>          <td class="paramname"><span class="paramname"><em>reg_adr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#ab53e22460a149df7a2fadfa44ac525b3">modbus_reg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>app_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers application data to Modbus slave holding registers table. </p>
<p>This function registers application data to the Modbus slave holding registers table at the specified register address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg_adr</td><td>Register address where the application data will be registered. </td></tr>
    <tr><td class="paramname">app_data_ptr</td><td>Pointer to the application data to be registered. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="modbus__slave_8c_a1a3016b21d5d1c3e574bdd4ed00ebf7f_cgraph.png" border="0" usemap="#amodbus__slave_8c_a1a3016b21d5d1c3e574bdd4ed00ebf7f_cgraph" alt=""/></div>
<map name="amodbus__slave_8c_a1a3016b21d5d1c3e574bdd4ed00ebf7f_cgraph" id="amodbus__slave_8c_a1a3016b21d5d1c3e574bdd4ed00ebf7f_cgraph">
<area shape="rect" title="Registers application data to Modbus slave holding registers table." alt="" coords="5,5,183,48"/>
<area shape="rect" href="modbus__slave__data_8c.html#ad7ea9a889feaf7f8dbced706d0db3123" title="Registers application data to the Modbus holding or input registers table." alt="" coords="231,5,373,48"/>
<area shape="poly" title=" " alt="" coords="183,24,216,24,216,29,183,29"/>
</map>
</div>

</div>
</div>
<a id="acd2b5e4c2f67002beb94e18c7dd6b201" name="acd2b5e4c2f67002beb94e18c7dd6b201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2b5e4c2f67002beb94e18c7dd6b201">&#9670;&#160;</a></span>register_app_data_to_modbus_slave_inreg_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_app_data_to_modbus_slave_inreg_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#adc136695d03cf4fa30e82aa301a9e82c">modbus_adr_t</a></td>          <td class="paramname"><span class="paramname"><em>reg_adr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="modbus__public__type_8h.html#ab53e22460a149df7a2fadfa44ac525b3">modbus_reg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>app_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers application data to Modbus slave input registers table. </p>
<p>This function registers application data to the Modbus slave input registers table at the specified register address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg_adr</td><td>Register address where the application data will be registered. </td></tr>
    <tr><td class="paramname">app_data_ptr</td><td>Pointer to the application data to be registered. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="modbus__slave_8c_acd2b5e4c2f67002beb94e18c7dd6b201_cgraph.png" border="0" usemap="#amodbus__slave_8c_acd2b5e4c2f67002beb94e18c7dd6b201_cgraph" alt=""/></div>
<map name="amodbus__slave_8c_acd2b5e4c2f67002beb94e18c7dd6b201_cgraph" id="amodbus__slave_8c_acd2b5e4c2f67002beb94e18c7dd6b201_cgraph">
<area shape="rect" title="Registers application data to Modbus slave input registers table." alt="" coords="5,5,186,48"/>
<area shape="rect" href="modbus__slave__data_8c.html#ad7ea9a889feaf7f8dbced706d0db3123" title="Registers application data to the Modbus holding or input registers table." alt="" coords="234,5,376,48"/>
<area shape="poly" title=" " alt="" coords="186,24,218,24,218,29,186,29"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
